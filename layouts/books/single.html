{{ define "main" }}
<article class="book-page">

  <h1>{{ .Title }}</h1>

  <p><strong>Author:</strong> {{ .Params.author }}</p>

  {{ with .Params.published_year }}
    <p><strong>Published:</strong> {{ . }}</p>
  {{ end }}

  {{ with .Params.genre }}
    <p><strong>Genre:</strong> {{ . }}</p>
  {{ end }}

  {{ with .Params.language }}
    <p><strong>Language:</strong> {{ . }}</p>
  {{ end }}

  {{ with .Params.pages }}
    <p><strong>Pages:</strong> {{ . }}</p>
  {{ end }}

  {{ with .Params.format }}
    <p><strong>Format:</strong> {{ delimit . ", " }}</p>
  {{ end }}
  
  {{ with .Params.isbn }}
    <p><strong>ISBN:</strong> {{ . }}</p>
  {{ end }}

  {{ with .Params.image }}
    <img src="{{ . }}" alt="Cover image" style="max-width:200px;">
  {{ end }}

  {{ if or .Params.start_date .Params.end_date .Params.rating .Params.favorite .Params.re_read .Params.dnf }}
    <hr>
    <h2>Reading Info</h2>

    {{ with .Params.start_date }}
      <p><strong>Started:</strong> {{ . }}</p>
    {{ end }}
    {{ with .Params.end_date }}
      <p><strong>Finished:</strong> {{ . }}</p>
    {{ end }}
    {{ with .Params.rating }}
      <p><strong>Rating:</strong> {{ . }} / 5</p>
    {{ end }}
    {{ if .Params.favorite }}<p>🌟 Favorite</p>{{ end }}
    {{ if .Params.re_read }}<p>🔁 Re-read</p>{{ end }}
    {{ if .Params.dnf }}<p>🚫 Did not finish</p>{{ end }}
  {{ end }}

  {{ with .Params.summary }}
    <hr>
    <h2>Short Review</h2>
    <p>{{ . }}</p>
  {{ end }}

  {{ with .Params.characters }}
    <h2>Characters</h2>
    <ul>
      {{ range $name, $desc := . }}
        <li><strong>{{ $name }}:</strong> {{ $desc }}</li>
      {{ end }}
    </ul>
  {{ end }}

  {{ with .Params.vocabulary }}
    <h2>Vocabulary</h2>
    <ul>
      {{ range . }}
        <li>{{ . }}</li>
      {{ end }}
    </ul>
  {{ end }}

  {{ with .Params.tags }}
    <h2>Tags</h2>
    <p>{{ delimit . ", " }}</p>
  {{ end }}

</article>
{{ end }}
